/*! angular-fast-i18n - v0.0.5 - 2014-07-09
* Copyright (c) 2014 ; Licensed  */
"use strict";angular.module("ngFastI18n.controllers",[]).controller("languageCtrl",["$scope","i18nService",function(a,b){a.languages=[{name:"English",id:"en"},{name:"Francais",id:"fr"}],a.setLanguage=function(a){b.setLanguage(a)}}]),angular.module("ngFastI18n.directives",[]).directive("lng",["i18nService",function(a){return{link:function(b,c,d){b.api=a,b.$watch("api.current",function(){a.translate(c,d.lng)})}}}]),angular.module("ngFastI18n.services",[]).factory("i18nService",["$q","$resource",function(a,b){function c(a){f=g,g=a}function d(c){var d="i18n/languages/"+g+".json",e=null,f=a.defer();return b(d).get(function(a){e=a;for(var b=0,d=c.split(".");b!==d.length&&e;++b)e=e[d[b]];f.resolve(e)}),f.promise}function e(a,c){"undefined"==typeof g&&(g=navigator.language||navigator.userLanguage,g=g.substr(0,2),null==g&&(g="en"));var d=c.match(/([^:]+):(.+)/,"g");if(null!=d)var e=d[1],h=d[2];var i="i18n/languages/"+g+".json";b(i).get(function(b){for(var c=b,d=0,g=h.split(".");d!==g.length&&c;++d)c=c[g[d]];switch("undefined"==typeof c?c="??"+h+"??":"object"==typeof c&&(c=JSON.stringify(c)),a.empty(),e){case"text":a.text(c);break;case"value":a.val(c);break;case"placeholder":a.attr("placeholder",c);break;case"html":a.html(c);break;case"classname":a.removeClass(f).addClass(c);break;default:a.text("???"+h+" ("+e+")???")}})}var f,g;return{current:g,previous:f,setLanguage:c,getString:d,translate:e}}]),angular.module("ngFastI18n",["ngFastI18n.services","ngFastI18n.directives","ngFastI18n.controllers"]);