/*! angular-fast-i18n - v0.0.18 - 2014-11-07
* Copyright (c) 2014 ; Licensed  */
"use strict";angular.module("ngFastI18n.controllers",[]).controller("languageCtrl",["$scope","i18nService",function(a,b){a.languages=[{name:"English",id:"en"},{name:"Francais",id:"fr"}],a.setLanguage=function(a){b.previous=b.current,b.current=a}}]),angular.module("ngFastI18n.directives",[]).directive("lng",["i18nService",function(a){return{link:function(b,c,d){b.api=a,b.$watch("api.current",function(){a.translate(c,d.lng)}),d.$observe("lng",function(b){null!=b&&a.translate(c,b)})}}}]),angular.module("ngFastI18n.services",[]).factory("i18nService",["$q","$resource",function(a,b){var c=function(c){var d="i18n/languages/"+this.current+".json",e=null,f=a.defer();return b(d).get(function(a){e=a;for(var b=0,d=c.split(".");b!==d.length&&e;++b)e=e[d[b]];f.resolve(e)}),f.promise},d=function(a,c){"undefined"==typeof this.current&&(this.current=navigator.language||navigator.userLanguage,this.current=this.current.substr(0,2),null==this.current&&(this.current="en"));var d=c.match(/([^:]+):(.+)/,"g");if(null!=d)var e=d[1],f=d[2];var g="i18n/languages/"+this.current+".json",h=this.previous;b(g).get(function(b){for(var c=b,d=0,g=f.split(".");d!==g.length&&c;++d)c=c[g[d]];switch("undefined"==typeof c?c="??"+f+"??":"object"==typeof c&&(c=JSON.stringify(c)),a.empty(),e){case"text":a.text(c);break;case"value":a.val(c);break;case"placeholder":a.attr("placeholder",c);break;case"html":a.html(c);break;case"classname":a.removeClass(h).addClass(c);break;default:a.text("???"+f+" ("+e+")???")}})};return{current:this.current,previous:this.previous,getString:c,translate:d}}]),angular.module("ngFastI18n",["ngFastI18n.services","ngFastI18n.directives","ngFastI18n.controllers"]);